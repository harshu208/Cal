<html>
<head>
    <title>Brick Masonry Calculator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="Kendo-License/src/styles/web/kendo.common.css" rel="stylesheet" />
 <link href="Kendo-License/src/styles/web/kendo.default.css" rel="stylesheet" />
 <link href="Kendo-License/src/styles/web/kendo.default.mobile.css" rel="stylesheet" />
 <link href="Kendo-License/src/styles/mobile/kendo.mobile.all.css" rel="stylesheet" /> 
 <script src="Kendo-License/src/js/jquery.js"></script>
 <script src="Kendo-License/src/js/kendo.all.js"></script>
 <script src="common.js"></script>
 <link href="common.css" rel="stylesheet" />
    <style>
        .bg-light {
            background-color: #521307 !important;
        }

        .cmnLink {
            color: white !important;
            text-transform: capitalize !important;
            border: 1px solid darkred !important;
            margin-left: 5px !important;
        }

        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255,102,203, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E") !important;
        }
    </style>
</head>
<body onload="Load()">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">
            <span style="color: white;font-family: auto;text-shadow: 2px 0px cyan;font-size: 25px;">&nbsp;</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"> <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i> </span>
        </button>
        <!--<div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link cmnLink" href="/Cement Calculation/CementConcreteCalculator.html">Cement Concrete <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link cmnLink" href="/Cement Calculation/PlasteringCalculator.html">Plastering <span class="sr-only"></span></a>
                </li>
            </ul>
        </div>-->
    </nav>

    <script>
        function Load() {
            Calculate();
        }
        var CementRatio = 0;
        var CementRatioVolume = 0;
        var area = 0;
        var WetVolumeofMixValue = 0;
        var meter_cube_feet_cube = 0;
        var unit = 0;
        var CementinKgValue = 0;
        var SandinTonValue = 0;
        var NoOfBricks = 0;
        var qtyofMortor = 0;
        var wallthickness = 0;
        var sandinCFT = 0;
        var CementBags = 0;
        function Calculate() {
            GetCementRatio();

            unit = document.getElementById("unit").value;

            if(INCHCMValidationBrik(unit) == true){
            var conversition = 0;
            if (unit == "1") {
                conversition = 12;
                SetLabelName("Feet", "Inch");

            }
            if (unit == "2") {
                conversition = 100;
                SetLabelName("Meter", "CM");
            }
            CementConcreteVolume(conversition);
            NoofBricks();
            WetVolumeofMix(unit);
            AmountofCementRequired(qtyofMortor);
            AmountofSandRequired(qtyofMortor);
            Chart();
        }
        }

        function UnitChange() {
            Calculate();
        }

        function GradeofConcreteChange() {
            Calculate();
        }

        function CementConcreteVolume(conversition) {
            debugger;
            var length = document.getElementById("length").value;
            var length2 = document.getElementById("length2").value;
            var width = document.getElementById("width").value
            var width2 = document.getElementById("width2").value;
            //var depth = document.getElementById("depth").value;
            //var depth2 = document.getElementById("depth2").value;

            length = length == ""?0:length;
            width = width == ""?0:width;

            length = parseFloat(length);
            width = parseFloat(width);
            //depth = parseFloat(depth);
            length2 = parseFloat(length2);
            width2 = parseFloat(width2);
            //depth2 = parseFloat(depth2);
            if (length == NaN || width == NaN) {
                alert("parsing failed");
                return;
            }
            else {
                if (isNaN(length2)) {
                    length2 = 0;
                }
                else {
                    length2 = length2 / conversition;
                }
                if (isNaN(width2)) {

                    width2 = 0;
                }
                else {
                    width2 = width2 / conversition;
                }
                //if (isNaN(depth2)) {
                //    depth2 = 0;
                //}
                //else {
                //    depth2 = depth2 / conversition;
                //}


                area = ((length + length2) * (width + width2));
                var unit = document.getElementById("unit").value;

                if ($("#WallThickness").val() == 'Other') {
                    wallthickness = $("#txtWallThickness").val();
                    if (wallthickness == '' || wallthickness == NaN) {
                        wallthickness = 0;
                    }
                    else { wallthickness = wallthickness / 100; }
                }
                else {
                    wallthickness = $("#WallThickness").val();
                }

                if (unit == "1") {
                    meter_cube_feet_cube = (area / 35.315);
                    var bricksVolume = ((area * 0.3048 * 0.3048) * (wallthickness));
                    var bricksVolumeft = (bricksVolume * 35.3147);

                    document.getElementById("totalFeetCube").textContent = bricksVolume.toFixed(2) + " cum";
                    document.getElementById("totalFeetCube2").textContent =  bricksVolumeft.toFixed(2) + " cft";
                    //document.getElementById("totalMeterCube").textContent = meter_cube_feet_cube.toFixed(2) + " m3";
                } if (unit == "2") {
                    //meter_cube_feet_cube = (area * 35.315);

                    var bricksVolume = ((area) * (wallthickness));
                    var bricksVolumeft = (bricksVolume * 35.3147);
                    document.getElementById("totalFeetCube").textContent = bricksVolume.toFixed(2) + " cum";
                    document.getElementById("totalFeetCube2").textContent = bricksVolumeft.toFixed(2) + " cft";
                    //document.getElementById("totalMeterCube").textContent = area.toFixed(2) + " ft3";
                }
            }
        }

        function NoofBricks() {

            var bricksVolume = 0;
            var bricksSize = 0;

            if (unit == "1") {
                bricksVolume = ((area * 0.3048 * 0.3048) * (wallthickness));
            }
            else {
                bricksVolume = ((area) * (wallthickness));
            }

            var brickLength = ($("#txtLengthBrick").val() == '' ? 0 : $("#txtLengthBrick").val());
            var brickWidth = ($("#txtWidthBrick").val() == '' ? 0 : $("#txtWidthBrick").val());
            var brickHeight = ($("#txtHeightBrick").val() == '' ? 0 : $("#txtHeightBrick").val());

            //Add Mortar Value .01
            brickLength = (brickLength * 2.54);
            brickWidth = (brickWidth * 2.54);
            brickHeight = (brickHeight * 2.54);
            bricksSize = ((brickLength / 100) + .01) * ((brickWidth / 100) + .01) * ((brickHeight / 100) + .01);
            NoOfBricks = ((bricksVolume) / bricksSize).toFixed();
            $("#txtNoofBricks").text(NoOfBricks+ " Nos.");
            $("#totalBricks").text(NoOfBricks);

            //Actual Volume of Bricks Mortar = No of Bricks * Volumne of Bricks without Mortar
            var volumeofMortar = NoOfBricks * ((brickLength / 100) * (brickWidth / 100) * (brickHeight / 100)); //M3
            //Quantity of Mortor = Volumne of Bricks - Actual Volume of Bricks without Mortar
            qtyofMortor = bricksVolume - volumeofMortar;

            //Add 15% more for wastage, Non - uniform thickness of mortar joins
            qtyofMortor = qtyofMortor + (qtyofMortor * (15 / 100))

            //Add 25% more for Dry Volume
            qtyofMortor = qtyofMortor + (qtyofMortor * (25 / 100))
        }

        function WetVolumeofMix(unit) {
            if (unit == "1") {
                WetVolumeofMixValue = meter_cube_feet_cube + ((meter_cube_feet_cube * 52.4) / 100);
            }

            if (unit == "2") {
                WetVolumeofMixValue = area + ((area * 52.4) / 100);
            }
        }

        function AmountofCementRequired(MultiplyValue) {
            var sel = document.getElementById("ratio");
            var CementRatioDt = parseFloat(CementRatio[0]);
            var CementRatioVolumeDt = parseFloat(CementRatioVolume);
            // var MeterCube = (CementRatioDt/CementRatioVolumeDt)*0.72;
            var MeterCube = (CementRatioDt / CementRatioVolumeDt) * MultiplyValue;
            MeterCube = parseFloat(MeterCube);
            // No. Of Cement Bags
            var Bags = (MeterCube / 0.035);        
             CementBags = Math.ceil(Bags);
            document.getElementById("cementBags").textContent = Math.ceil(Bags) + " Bags";
            CementinKg(Bags);
        }

        function AmountofSandRequired(MultiplyValue) {
            debugger;
            var sel = document.getElementById("ratio");
            var CementRatioDt = parseFloat(CementRatio[1]);
            var CementRatioVolumeDt = parseFloat(CementRatioVolume);
            // var MeterCube = (CementRatioDt/CementRatioVolumeDt)*0.72;
            var MeterCube = (CementRatioDt / CementRatioVolumeDt) * MultiplyValue;
            MeterCube = parseFloat(MeterCube);
            sandinCFT =(MeterCube*35.28);    
            // Sand in Kg
            var sandKG = ((MeterCube * 1500) / 1000);
            document.getElementById("SandInKG").textContent = sandKG.toFixed(2) + " Tons";
            SandinTon(MeterCube);
        }

        function CementinKg(Bags) {
            CementinKgValue = (Bags * 50);
        }

        function SandinTon(SandVolume) {
            SandinTonValue = (SandVolume * 1500);
        }

        function AggregateinTon(AggregateVolume) {
            NoOfBricks = (AggregateVolume * 1350);
        }

        // function Chart() {
        //     var chart = new CanvasJS.Chart("chartContainer", {
        //         animationEnabled: true,
        //         title: {
        //             text: ""
        //         },
        //         data: [{
        //             type: "pie",
        //             startAngle: 240,
        //             yValueFormatString: "##0",
        //             indexLabel: "{label} {y}",
        //             dataPoints: [
        //             { y: CementinKgValue, label: "Cement in Kg" },
        //             { y: SandinTonValue, label: "Sand in Kg" },
        //             { y: NoOfBricks, label: "No of Bricks" },
        //             ]
        //         }]
        //     });
        //     chart.render();
        // }

        function Chart() {
            $("#KendoGridViewDivision").kendoChart({
                title: {
                    position: "bottom",
                    text: ""
                },
                legend: {
                    visible: false
                },
                chartArea: {
                    background: ""
                },
                seriesDefaults: {
                    labels: {
                        visible: true,
                        background: "transparent",
                        template: "#= category #: \n #= value#"
                    }
                },
                series: [{
                    type: "pie",
                    startAngle: 150,
                    data: [{
                        category: "Sand (cft) ",
                        value: Math.ceil(sandinCFT),
                        color: "#C2B280"
                    },{
                        category: "Cement (Bags)",
                        value: CementBags,
                        color: "#84735A"
                    },{
                        category: "Bricks",
                        value:  Math.ceil(NoOfBricks),
                        color: "#033939"
                    }]
                }],
                tooltip: {
                    visible: true,
                    format: ""
                }
            });
        }

        $(document).ready(Chart);
        $(document).bind("kendo:skinChange", Chart);




        function SetLabelName(label1Value, label2Value) {
            document.getElementById("label1").textContent = label1Value;
            document.getElementById("label3").textContent = label1Value;
            //document.getElementById("label5").textContent = label1Value;
            document.getElementById("label2").textContent = label2Value;
            document.getElementById("label4").textContent = label2Value;
            //document.getElementById("label6").textContent = label2Value;
        }

        function GetCementRatio() {
            CementRatioVolume = document.getElementById("ratio").value;
            var sel = document.getElementById("ratio");
            var text = sel.options[sel.selectedIndex].text;
            var res = text.split(" - ");
            CementRatio = res[1].split(":");
        }

        function ThicknessChange() {
            var thickness = $("#WallThickness").val();
            if (thickness == 'Other') {
                $("#divOtherPartition").css('display', '');
                //$("#WallThickness").css('display', 'none');
            }
            else {
                $("#divOtherPartition").css('display', 'none');
                //$("#WallThickness").css('display', '');
            }
        }

        function IsDecimal2DigitPositive(control, event) {
            // Backspace, tab, enter, end, home, left, right in number part, 
            // We don't support the del key in Opera because del == . == 46.

            var controlKeys = [8, 9, 13];
            // IE doesn't support indexOf
            var isControlKey = controlKeys.join(",").match(new RegExp(event.which));

            //alert(window.getSelection());

            // Some browsers just don't raise events for control keys. Easy.
            // e.g. Safari backspace.
            if (!event.which || // Control keys in most browsers. e.g. Firefox tab is 0
                (48 <= event.which && event.which <= 57) || // Always 1 through 9
                (46 == event.which && control.value.toString().length > 0 && control.value.toString().lastIndexOf('.') == -1) || //Allow Dot Only once
                // (control.value.toString().indexOf('.')!=-1 && control.value.toString().substring(control.value.toString().indexOf('.'),control.value.toString().length).length <=2) ||
                    isControlKey) { // Opera assigns values for control keys.

                if ((control.value.toString().indexOf('.') != -1 &&
                (control.value.toString().length - control.value.toString().indexOf('.')) > 2) && window.getSelection().length == 0)
                    return false;
                else
                    return;
            } else {
                event.preventDefault();
            }
        }

        function IsPositiveInteger(event) {

            // Backspace, tab, enter, end, home, left, right in number part, 
            // We don't support the del key in Opera because del == . == 46.
            //[BAckspace, tab, enter, end,home,left,right]
            var controlKeys = [8, 9, 13];
            // IE doesn't support indexOf
            var isControlKey = controlKeys.join(",").match(new RegExp(event.which));
            // Some browsers just don't raise events for control keys. Easy.
            // e.g. Safari backspace.
            if (!event.which || // Control keys in most browsers. e.g. Firefox tab is 0
                (48 <= event.which && event.which <= 57) || // Always 1 through 9
                isControlKey) { // Opera assigns values for control keys.
                return;
            } else {
                event.preventDefault();
            }
        }

    </script>
    <!-- <div class="jumbotron" style="border-radius: 0;padding: 1rem 4rem !important; text-align: center; background: darkred;      color: white;   text-transform: capitalize;">
        <h5 class="">civil-engineering-calculators!</h5>


       </div> -->
    <div class="row" style="margin-top: 15px; margin-left: 10px;margin-right: 10px;">
        <div class="col-lg-4">
            <div class="card">
                <div style="padding: 10px; background: lavenderblush;">
                    <h6>Brick Masonry Calculator</h6>
                </div>

                <div class="card-body" style="padding: 12px;">
                    <form>
                        <div class="form-group row">
                            <label for="inputEmail3" class="col-sm-4 col-form-label">Unit</label>
                            <div class="col-sm-8">
                                <select onchange="UnitChange()" class="custom-select" id="unit">
                                    <option selected value="1">Feet/Inch</option>
                                    <option value="2">Meter/CM</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-4 col-form-label">Length</label>
                            <div class="col-sm-4">
                                <div class="input-group">
                                    <input type="text" id="length" value="3" class="form-control" placeholder="0" aria-label="0" aria-describedby="basic-addon2" onkeypress="return IsPositiveInteger(event)">
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="label1"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="input-group">
                                    <input type="text" id="length2" class="form-control" value="6" placeholder="0" aria-label="0" aria-describedby="basic-addon2" onkeypress="return IsDecimal2DigitPositive(this, event)">
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="label2"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputPassword3" class="col-sm-4 col-form-label">Height / Depth</label>
                            <div class="col-sm-4">
                                <div class="input-group">
                                    <input type="text" id="width" value="3" class="form-control" placeholder="0" aria-label="0" aria-describedby="basic-addon2" onkeypress="return IsPositiveInteger(event)">
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="label3"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="input-group">
                                    <input type="text" id="width2" class="form-control" value="6" placeholder="0" aria-label="0" aria-describedby="basic-addon2" onkeypress="return IsDecimal2DigitPositive(this, event)">
                                    <div class="input-group-append">
                                        <span class="input-group-text" id="label4"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputEmail3" class="col-sm-4 col-form-label">Wall Thickness   </label>
                            <div class="col-sm-8">
                                <select onchange="ThicknessChange()" class="custom-select" id="WallThickness">
                                    <option value="0.1">10 CM  Wall (4 inch)</option>
                                    <option selected value="0.23">23 CM  Wall (9 inch)</option>
                                    <option value="Other">Others Partition</option>
                                </select>

                            </div>
                        </div>
                        <div class="form-group row" style="display:none;" id="divOtherPartition">
                            <label for="inputEmail3" class="col-sm-4 col-form-label">Other Partition</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <input name="txtWallThickness" type="text" value="1" maxlength="7" id="txtWallThickness" title="Enter thickness" class="form-control" />
                                    <div class="input-group-append">
                                        <span class="input-group-text">cm</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="inputEmail3" class="col-sm-4 col-form-label">Ratio</label>
                            <div class="col-sm-8">
                                <select class="custom-select" id="ratio">
                                    <option value="4">C.M - 1:3</option>
                                    <option selected="selected" value="5">C.M - 1:4</option>
                                    <option value="6">C.M - 1:5</option>
                                    <option value="7">C.M - 1:6</option>
                                    <option value="8">C.M - 1:7</option>
                                    <option value="9">C.M - 1:8</option>
                                    <option value="10">C.M - 1:9</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Size of Brick </label>
                            <div class="col-sm-3">
                                <label class="control-label">
                                    Length(inch)
                                </label>
                                <div class="input-group">
                                    <input name="txtLengthBrick" type="text" value="19" maxlength="3" id="txtLengthBrick" title="Enter length of brick" class="form-control" onkeypress="return IsDecimal2DigitPositive(this, event)">
                                    <!--<span class="input-group-addon">
                                        <span id="lblLengthBrick">cm</span>
                                    </span>-->
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <div class="row">
                                    <label class="control-label">
                                        Width(inch)
                                    </label>
                                </div>
                                <div class="row">
                                    <div class="input-group">
                                        <input name="txtWidthBrick" type="text" value="9" maxlength="3" id="txtWidthBrick" title="Enter width of brick" class="form-control" onkeypress="return IsDecimal2DigitPositive(this, event)">
                                        <!--<span class="input-group-addon">
                                            <span id="lblWidthBrick" class="text-12">cm</span>
                                        </span>-->
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <label class="control-label">
                                    Height(inch)
                                </label>
                                <div class="input-group">
                                    <input name="txtHeightBrick" type="text" value="9" maxlength="3" id="txtHeightBrick" title="Enter height of brick" class="form-control" onkeypress="return IsDecimal2DigitPositive(this, event)">
                                    <!--<span class="input-group-addon">
                                        <span id="lblHeightBrick">cm</span>
                                    </span>-->
                                </div>
                            </div>
                        </div>

                        <div class="form-group row" style="text-align: right;">
                            <div class="col-sm-12 pull-right">
                                <button style="background-color: darkred  !important;color: white;" type="button" class="btn" onclick="Calculate()">Calculate</button>
                                <button type="submit" class="btn btn-primary pull-right">Reset</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-5">
            <div class="card">
                <div style="padding: 10px; background: #f1edef;">
                    <h6>Graphical Representation</h6>
                </div>
                <div class="card-body" style="padding: 0 !important;">
                    <div id="example">
                        <div class="demo-section k-content wide" style="font-size: 12px;padding: 10px">
                            <div id="KendoGridViewDivision"></div>
                           <b  class="Disclaimer"> Disclaimer:</b><br/>
                           <div class="Disclaimer">
Quantity has been calculated using the average values.</br>
Actual quantity will vary depending upon densities of fine aggregates. </div>
                            
                        </div>
          </div>

                </div>
            </div>
        </div>
        <div class="col-lg-3">
            <div class="card">
                <div style="padding: 10px; background: #f1edef;">
                    <h6>Total Volume of brick masonry</h6>
                </div>
                <div class="card-body" style="padding: 0 !important;">
                    <div style="padding: 10px;">
                        <!-- <div>
                            <span id="totalBricks">

                            </span>
                        </div>
                        <hr /> -->
                        <div>
                            <span id="totalFeetCube">

                            </span>
                        </div>
                        <hr /> 
                        <div>
                            <span id="totalFeetCube2">

                            </span>
                        </div>
                    </div>
                    <table class="table">
                        <thead style=" background: #f1edef;">
                            <tr>
                                <td>Material</td>
                                <td>Quantity (UOM)</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Cement </td>
                                <td><span id="cementBags"></span></td>
                            </tr>
                            <tr>
                                <td>Sand</td>
                                <td id="SandInKG"></td>
                            </tr>
                            <tr>
                                <td>Nos of Bricks</td>
                                <td id="txtNoofBricks"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>